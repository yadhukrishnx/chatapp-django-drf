{% extends "base.html" %}
{% load static %}
{% block title %} Check Token Balance {% endblock %}

{% block content %}
<style>
    .container {
        max-width: 800px;
        margin-top: 50px;
    }
    .api-section {
        margin-bottom: 30px;
    }
    .code-block {
        background-color: #f8f9fa;
        padding: 10px;
        border-radius: 5px;
        font-family: "Courier New", Courier, monospace;
        white-space: pre-wrap;
        word-wrap: break-word;
    }
</style>

<div class="container">
    <h1 class="text-center mb-4">AI Chat System - API Documentation</h1>

    <div class="api-section mt-3">
        <h3>User Registration API</h3>
        <p><strong>Endpoint:</strong> <code>api/register/</code></p>
        <p><strong>Method:</strong> POST</p>
        <p><strong>Description:</strong> Register a new user. Assigns 4000 tokens to the user by default.</p>
        <p><strong>Request Body:</strong></p>
        <div class="code-block">
            {
                "username": "example_user",
                "password": "example_password"
            }
        </div>
    </div>

    <div class="api-section">
        <h3>Login API</h3>
        <p><strong>Endpoint:</strong> <code>api/login/</code></p>
        <p><strong>Method:</strong> POST</p>
        <p><strong>Description:</strong> Log in an existing user and receive an authentication token.</p>
        <p><strong>Request Body:</strong></p>
        <div class="code-block">
            {
                "username": "example_user",
                "password": "example_password"
            }
        </div>
        <p><strong>Response:</strong></p>
        <div class="code-block">
            {
                "message": "Login Successful",
                "token": "example_auth_token",
                "chat_url": "http://<your-server-domain>/api/chat/"
            }
        </div>
    </div>

    <div class="api-section">
        <h3>Chat API</h3>
        <p><strong>Endpoint:</strong> <code>api/chat/</code></p>
        <p><strong>Method:</strong> POST</p>
        <p><strong>Description:</strong> Send a message to the chatbot and receive a response. Deducts 100 tokens per question.</p>
        <p><strong>Request Body:</strong></p>
        <div class="code-block">
            {
                "message": "What is AI?"
            }
        </div>
        <p><strong>Header:</strong></p>
        <div class="code-block">
            {
                "Authorization": "Token example_auth_token"
            }
        </div>
        <p><strong>Response:</strong></p>
        <div class="code-block">
            {
                "message": "Question asked successfully.",
                "response": "This is a dummy AI response to your question.",
                "tokens_left": 3900
            }
        </div>
    </div>

    <div class="api-section">
        <h3>Token Balance API</h3>
        <p><strong>Endpoint:</strong> <code>api/token-balance/</code></p>
        <p><strong>Method:</strong> GET</p>
        <p><strong>Description:</strong> Check the current token balance for the API Token Given.</p>
        <p><strong>Request Body:</strong></p>
        <div class="code-block">
            {
                "token": "Your API Token"
            }
        </div>
        <p><strong>Header:</strong></p>
        <div class="code-block">
            {
                "Authorization": "Token example_auth_token"
            }
        </div>
        <p><strong>Response:</strong></p>
        <div class="code-block">
            {
                "tokens": 3900
            }
        </div>
    </div>
</div>


{% endblock %}
